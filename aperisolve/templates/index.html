{% extends 'base.html' %}
{% block body_content %}
<form id="upload-form" class="card p-4 mb-4" method="POST" enctype="multipart/form-data">
  <!-- Description Section -->
  <section class="mb-4">
    <h2 class="h4 mb-3">What is this?</h2>
    <p class="text-light-emphasis mb-0">
      Aperi'Solve is an online platform which performs layer analysis on images.
      The platform also uses zsteg, steghide, outguess, exiftool, binwalk, foremost and strings
      for deeper steganography analysis. Supports: PNG, JPG, GIF, BMP, JPEG, JFIF, JPE, TIFF...
    </p>
  </section>

  <!-- Drop Zone -->
  <div class="mb-3">
    <label for="image" class="form-label visually-hidden">Image file</label>
    <div id="drop-zone" class="drop-zone border border-2 border-dashed rounded-3 p-4 text-center">
      <p id="drag-msg" class="mb-3">ðŸ“‚ Drag and drop an image here or click to select</p>
      <input type="file" id="image" name="image" accept="image/*" class="visually-hidden" required>
      <button type="button" class="btn btn-secondary" id="browse-btn" aria-label="Choose image file">
        <i class="fa fa-folder-open me-2"></i>Choose an image
      </button>
    </div>
  </div>

  <!-- Password Field -->
  <div class="mb-3">
    <label for="password" class="form-label">Password <small class="text-muted">(optional)</small></label>
    <input class="form-control" type="text" name="password" id="password" placeholder="Enter password if required">
  </div>

  <!-- Deep Analysis Toggle -->
  <div class="form-check form-switch mb-4">
    <input class="form-check-input" type="checkbox" role="switch" id="deep">
    <label class="form-check-label" for="deep">
      Deep analysis <small class="text-muted">(slower, more thorough)</small>
    </label>
  </div>

  <!-- Submit Button -->
  <button type="submit" class="btn btn-primary btn-lg w-100">
    <i class="fa fa-upload me-2"></i>Analyze Image
  </button>

  <!-- Progress Bar -->
  <div class="progress mt-3 d-none" id="progress-container" role="progressbar" aria-label="Upload progress">
    <div class="progress-bar progress-bar-striped progress-bar-animated" id="progress-bar" style="width: 0%">
      0%
    </div>
  </div>
</form>

<!-- Results Section -->
<section id="result" class="results-section pb-4">
  <div id="result-infos" class="mb-4"></div>
  <div id="result-analyzers" class="mb-4"></div>
  <div id="result-removal" class="mb-4"></div>
</section>
{% endblock %}
